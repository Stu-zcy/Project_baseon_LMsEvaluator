<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="apple-touch-icon" sizes="76x76" href="../assets/img/apple-icon.png">
  <link rel="icon" type="image/png" href="../assets/img/favicon.png">
  <meta name="referrer" content="no-referrer">
  <title>LMsEvaluator - 注册</title>
  
  <!-- 字体和图标 -->
  <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Inter:300,400,500,600,700,900" />
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@24,400,0,0" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
  <link rel="stylesheet" href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css">
  <style>
    :root {
      --primary-gradient: linear-gradient(195deg, #2c3e50 0%, #1a2a3a 100%);
      --accent-color: #4A90E2;
      --dark-bg: #0f172a;
      --card-bg: rgba(255, 255, 255, 0.93);
      --text-dark: #2d3748;
      --text-light: #f8fafc;
      --success-color: #10b981;
      --warning-color: #f59e0b;
      --error-color: #ef4444;
      --disabled-color: #cbd5e1;
      --notification-success: rgba(25, 135, 84, 0.9);
      --notification-error: rgba(220, 53, 69, 0.9);
      --notification-info: rgba(13, 202, 240, 0.9);
    }
    
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    
    body {
      font-family: 'Inter', sans-serif;
      background: var(--dark-bg);
      color: var(--text-dark);
      line-height: 1.6;
      min-height: 100vh;
      display: flex;
      padding: 20px;
      background-image: url('https://images.unsplash.com/photo-1497366754035-f200968a6e72?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1950&q=80');
      background-size: cover;
      background-position: center;
      background-attachment: fixed;
      position: relative;
      overflow-x: hidden;
    }
    
    body::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(15, 23, 42, 0.85);
      z-index: -1;
    }
    
    .main-content {
      flex: 1;
      padding: 40px;
      display: flex;
      flex-direction: column;
      justify-content: center;
      max-width: 800px;
      position: relative;
      z-index: 10;
      animation: fadeInLeft 0.8s ease-out;
      padding-top: 20px;
    }
    
    .main-content h1 {
      font-size: 3.5rem;
      font-weight: 800;
      color: white;
      margin-bottom: 1.5rem;
      line-height: 1.2;
      text-shadow: 0 2px 10px rgba(0,0,0,0.3);
    }
    
    .main-content p {
      font-size: 1.25rem;
      color: rgba(255, 255, 255, 0.9);
      max-width: 600px;
      margin-bottom: 2rem;
    }
    
    .features-grid {
      display: flex;
      flex-direction: column;
      gap: 20px;
      margin-top: 40px;
      max-width: 700px;
    }
    
    .feature-bar {
      background: rgba(255, 255, 255, 0.08);
      border-radius: 8px;
      padding: 15px 20px;
      backdrop-filter: blur(5px);
      border-left: 4px solid var(--accent-color);
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      position: relative;
      overflow: hidden;
    }
    
    .feature-bar:hover {
      transform: translateX(5px);
      background: rgba(74, 144, 226, 0.15);
    }
    
    .feature-content {
      flex: 1;
    }
    
    .feature-bar h3 {
      color: white;
      font-size: 1.3rem;
      margin-bottom: 8px;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    .feature-bar h3 i {
      font-size: 1.5rem;
      color: var(--accent-color);
    }
    
    .feature-bar p {
      font-size: 1rem;
      color: rgba(255, 255, 255, 0.75);
      margin-bottom: 0;
    }
    
    .registration-section {
      width: 600px;
      min-height: auto;
      background: var(--card-bg);
      position: relative;
      z-index: 20;
      box-shadow: -5px 0 30px rgba(0, 0, 0, 0.2);
      overflow-y: auto;
      animation: slideInRight 0.8s ease-out;
      margin-left: 80px;
      border-radius: 16px;
    }
    
    .form-container {
      padding: 40px;
      display: flex;
      flex-direction: column;
      min-height: 100vh;
    }
    
    .card-header {
      text-align: center;
      padding: 0;
      border: none;
      margin-bottom: 20px;
    }
    
    .logo {
      height: 60px;
      margin-bottom: 15px;
      display: flex;
      justify-content: center;
    }
    
    .card-header h3 {
      font-size: 1.8rem;
      font-weight: 700;
      color: var(--text-dark);
      margin-bottom: 5px;
    }
    
    .card-header p {
      color: #64748b;
      font-size: 1.1rem;
      margin-bottom: 15px;
    }
    
    .card-body {
      padding: 0;
    }
    
    .form-group {
      margin-bottom: 1.2rem;
      position: relative;
    }
    
    .form-label {
      position: absolute;
      left: 15px;
      top: 12px;
      color: #94a3b8;
      pointer-events: none;
      transition: all 0.3s;
      font-size: 1rem;
    }
    
    .form-control {
      width: 100%;
      padding: 14px 18px 14px 15px;
      border: 1px solid #cbd5e1;
      border-radius: 10px;
      font-size: 1rem;
      background: white;
      transition: all 0.3s;
    }
    
    .form-control:focus {
      border-color: var(--accent-color);
      box-shadow: 0 0 0 3px rgba(74, 144, 226, 0.2);
      outline: none;
    }
    
    .form-control:focus ~ .form-label,
    .form-control:not(:placeholder-shown) ~ .form-label {
      top: -8px;
      left: 12px;
      background: var(--card-bg);
      padding: 0 5px;
      font-size: 0.85rem;
      color: var(--accent-color);
    }
    
    .password-container {
      position: relative;
    }
    
    .toggle-password {
      position: absolute;
      right: 15px;
      top: 50%;
      transform: translateY(-50%);
      background: none;
      border: none;
      color: #94a3b8;
      cursor: pointer;
      font-size: 1.2rem;
    }
    
    .password-strength {
      height: 6px;
      background: #e2e8f0;
      border-radius: 3px;
      margin-top: 8px;
      overflow: hidden;
    }
    
    .strength-bar {
      height: 100%;
      width: 0;
      transition: width 0.3s, background 0.3s;
      border-radius: 3px;
    }
    .notification-container {
      position: fixed;
      top: 20px;
      right: 20px;
      max-width: 350px;
      width: 100%;
      z-index: 1000;
      display: flex;
      flex-direction: column;
      gap: 15px;
    }
    
    .notification {
      padding: 15px 20px;
      border-radius: 10px;
      color: white;
      display: flex;
      align-items: flex-start;
      gap: 12px;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.15);
      transform: translateX(400px);
      transition: transform 0.4s ease-out, opacity 0.4s;
      opacity: 0;
      position: relative;
      overflow: hidden;
    }
    
    .notification.show {
      transform: translateX(0);
      opacity: 1;
    }
    
    .notification.hide {
      transform: translateX(400px);
      opacity: 0;
    }
    
    .notification.success {
      background: var(--notification-success);
    }
    
    .notification.error {
      background: var(--notification-error);
    }
    
    .notification.info {
      background: var(--notification-info);
    }
    
    .notification i {
      font-size: 1.5rem;
      color: white;
    }
    
    .notification-content {
      flex: 1;
      color: white;
    }
    
    .notification-title {
      font-weight: 600;
      margin-bottom: 5px;
      font-size: 1.1rem;
      color: white;
    }
    
    .notification-message {
      color: rgba(255, 255, 255, 0.9);
    }
    
    .notification-close {
      background: none;
      border: none;
      color: white;
      cursor: pointer;
      font-size: 1.2rem;
      padding: 5px;
      opacity: 0.8;
    }
    
    .notification-close:hover {
      opacity: 1;
    }
    
    .notification-progress {
      position: absolute;
      bottom: 0;
      left: 0;
      height: 4px;
      background: rgba(255, 255, 255, 0.4);
      width: 100%;
    }
    
    .notification-progress-bar {
      height: 100%;
      background: white;
      width: 100%;
      transition: width 4s linear;
    }
    .strength-text {
      font-size: 0.85rem;
      margin-top: 3px;
      text-align: right;
      transition: color 0.3s;
    }
    
    .strength-weak {
      background: var(--error-color);
      width: 30%;
    }
    
    .strength-medium {
      background: var(--warning-color);
      width: 60%;
    }
    
    .strength-strong {
      background: var(--success-color);
      width: 100%;
    }
    
    .verification-group {
      display: flex;
      gap: 15px;
    }
    
    #verificationCode {
      flex: 1;
    }
    
    #sendCodeBtn {
      padding: 12px 20px;
      background: #e2e8f0;
      border: none;
      border-radius: 10px;
      color: var(--text-dark);
      font-weight: 500;
      cursor: pointer;
      transition: all 0.3s;
      white-space: nowrap;
    }
    
    #sendCodeBtn:hover {
      background: #cbd5e1;
    }
    
    #sendCodeBtn:disabled {
      background: #f1f5f9;
      color: #94a3b8;
      cursor: not-allowed;
    }
    
    .avatar-selector {
      margin: 1.5rem 0;
      position: relative;
    }
    
    .avatar-selector label {
      display: block;
      margin-bottom: 10px;
      font-weight: 500;
      color: var(--text-dark);
    }
    
    .avatar-scroller-container {
      position: relative;
      padding: 0 40px;
    }
    
    .avatar-scroller {
      display: flex;
      gap: 15px;
      overflow-x: auto;
      scrollbar-width: thin;
      scrollbar-color: var(--accent-color) rgba(0,0,0,0.1);
      scroll-behavior: smooth;
      padding: 10px 0;
      -ms-overflow-style: none;
      scrollbar-width: none;
    }
    
    .avatar-scroller::-webkit-scrollbar {
      display: none;
    }
    
    .avatar-item {
      flex: 0 0 65px;
      height: 65px;
      border-radius: 50%;
      border: 2px solid transparent;
      overflow: hidden;
      transition: all 0.3s;
      cursor: pointer;
      position: relative;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }
    
    .avatar-item img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
    
    .avatar-item.selected {
      border-color: var(--accent-color);
      box-shadow: 0 0 0 3px rgba(74, 144, 226, 0.3);
      transform: scale(1.1);
    }
    
    .avatar-item:hover {
      transform: scale(1.05);
      box-shadow: 0 6px 10px rgba(0, 0, 0, 0.15);
    }
    
    .nav-btn {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      width: 36px;
      height: 36px;
      border-radius: 50%;
      background: white;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 2px 10px rgba(0,0,0,0.15);
      border: none;
      cursor: pointer;
      z-index: 10;
      transition: all 0.3s;
    }
    
    .nav-btn:hover {
      background: var(--accent-color);
      color: white;
    }
    
    .nav-btn.left {
      left: 0;
    }
    
    .nav-btn.right {
      right: 0;
    }
    
    .terms-container {
      margin: 15px 0;
      display: flex;
      align-items: flex-start;
      padding: 8px 10px;
      border-radius: 8px;
      background-color: #f8fafc;
      border: 1px solid #e2e8f0;
    }
    
    #termsCheck {
      margin-top: 5px;
      margin-right: 12px;
      accent-color: var(--accent-color);
    }
    
    .terms-label {
      color: #64748b;
      font-size: 0.95rem;
    }
    
    .terms-link {
      color: var(--accent-color);
      text-decoration: none;
      font-weight: 500;
      transition: all 0.2s;
      cursor: pointer;
    }
    
    .terms-link:hover {
      text-decoration: underline;
    }
    
    .submit-btn {
      width: 100%;
      padding: 16px;
      background: var(--primary-gradient);
      border: none;
      border-radius: 10px;
      color: white;
      font-size: 1.1rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s;
      margin-top: 10px;
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 10px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }
    
    .submit-btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
    }
    
    .submit-btn i {
      transition: transform 0.3s;
    }
    
    .submit-btn:hover i {
      transform: translateX(5px);
    }
    
    .card-footer {
      text-align: center;
      padding: 20px 0 0;
      border: none;
      margin-top: auto;
    }
    
    .card-footer p {
      color: #64748b;
      font-size: 1rem;
    }
    
    .login-link {
      color: var(--accent-color);
      text-decoration: none;
      font-weight: 600;
      transition: all 0.2s;
      margin-left: 5px;
    }
    
    .login-link:hover {
      text-decoration: underline;
    }
    
    .hint {
      font-size: 0.8rem;
      margin-top: 4px;
      padding: 0 5px;
      color: #64748b;
      display: block;
      text-align: right;
    }
    
    .close-btn {
      position: absolute;
      top: 15px;
      right: 15px;
      width: 36px;
      height: 36px;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.2);
      display: flex;
      align-items: center;
      justify-content: center;
      border: none;
      cursor: pointer;
      transition: all 0.3s;
      z-index: 30;
      color: #64748b;
      font-size: 1.2rem;
      background: #f1f5f9;
    }
    
    .close-btn:hover {
      background: #e2e8f0;
      transform: rotate(90deg);
    }
    
    /* 响应式调整 */
    @media (max-width: 1200px) {
      .registration-section {
        width: 500px;
      }
      
      .form-container {
        padding: 30px;
      }
    }
    
    @media (max-width: 992px) {
      body {
        flex-direction: column;
      }
      
      .main-content {
        padding: 30px 20px;
        max-width: 100%;
      }
      
      .registration-section {
        width: 100%;
        min-height: auto;
        box-shadow: 0 -5px 30px rgba(0, 0, 0, 0.2);
        margin-left: 0;
        margin-top: 30px;
      }
    }
    
    @media (max-width: 768px) {
      .form-container {
        padding: 25px;
      }
      
      .avatar-scroller-container {
        padding: 0 30px;
      }
      
      .avatar-item {
        flex: 0 0 55px;
        height: 55px;
      }
    }
    
    @keyframes fadeInLeft {
      from { opacity: 0; transform: translateX(-30px); }
      to { opacity: 1; transform: translateX(0); }
    }
    
    @keyframes slideInRight {
      from { opacity: 0; transform: translateX(30px); }
      to { opacity: 1; transform: translateX(0); }
    }
    
    .form-group {
      opacity: 0;
      transform: translateY(20px);
      animation: fadeIn 0.5s ease-out forwards;
    }
    
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    .form-group:nth-child(1) { animation-delay: 0.1s; }
    .form-group:nth-child(2) { animation-delay: 0.2s; }
    .form-group:nth-child(3) { animation-delay: 0.3s; }
    .form-group:nth-child(4) { animation-delay: 0.4s; }
    .form-group:nth-child(5) { animation-delay: 0.5s; }
    .avatar-selector { animation: fadeIn 0.5s ease-out 0.6s forwards; opacity: 0; transform: translateY(20px); }
    .terms-container { animation: fadeIn 0.5s ease-out 0.7s forwards; opacity: 0; transform: translateY(20px); }
    .submit-btn { animation: fadeIn 0.5s ease-out 0.8s forwards; opacity: 0; transform: translateY(20px); }
    .card-footer { animation: fadeIn 0.5s ease-out 0.9s forwards; opacity: 0; transform: translateY(20px); }
    
    .compact-form {
      padding-top: 10px;
    }
    
    .error {
      color: var(--error-color);
      font-weight: 500;
    }
    
    .success {
      color: var(--success-color);
      font-weight: 500;
    }
    
    /* 服务条款弹窗样式 - 修复后 */
    .terms-modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.7);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 99999;
      opacity: 0;
      visibility: hidden;
      transition: all 0.3s ease;
    }
    
    .terms-modal.active {
      opacity: 1;
      visibility: visible;
    }
    
    .terms-content {
      background: white;
      border-radius: 20px;
      width: 90%;
      max-width: 800px;
      max-height: 90vh;
      overflow-y: auto;
      transform: translateY(30px);
      transition: transform 0.4s ease;
    }
    
    .terms-modal.active .terms-content {
      transform: translateY(0);
    }
    
    .terms-header {
      padding: 20px 25px;
      border-bottom: 1px solid #eee;
      display: flex;
      justify-content: space-between;
      align-items: center;
      position: sticky;
      top: 0;
      background: white;
      z-index: 10;
    }
    
    .terms-title {
      font-size: 22px;
      font-weight: 700;
      color: #333;
    }
    
    .close-terms {
      background: none;
      border: none;
      font-size: 24px;
      cursor: pointer;
      color: #666;
      transition: color 0.2s;
    }
    
    .close-terms:hover {
      color: #333;
    }
    
    .terms-body {
      padding: 25px;
      color: #444;
      line-height: 1.7;
    }
    
    .terms-section {
      margin-bottom: 25px;
    }
    
    .terms-section h3 {
      font-size: 18px;
      margin-bottom: 12px;
      color: #333;
      border-left: 4px solid #4A90E2;
      padding-left: 10px;
    }
    
    .terms-footer {
      padding: 20px;
      display: flex;
      justify-content: flex-end;
      border-top: 1px solid #eee;
      position: sticky;
      bottom: 0;
      background: white;
    }
    
    .agree-terms-btn {
      background: #4A90E2;
      color: white;
      border: none;
      padding: 10px 25px;
      border-radius: 8px;
      font-weight: 600;
      cursor: pointer;
      transition: background 0.3s;
    }
    
    .agree-terms-btn:hover {
      background: #3a7bc8;
    }
  </style>
</head>
<body>
  <!-- 通知容器 -->
  <div class="notification-container" id="notificationContainer"></div>
  
  <!-- 主内容区域 -->
  <div class="main-content">
    <h1>大模型评估平台</h1>
    <p>专业的语言模型评估工具，提供全面、客观的性能分析，帮助研究人员和开发者优化模型表现</p>
    
    <div class="features-grid">
      <div class="feature-bar">
        <div class="feature-content">
          <h3><i class='bx bxs-bar-chart-alt-2'></i> 综合性能评估</h3>
          <p>使用多种指标全面评估模型在语言理解、生成和推理方面的能力</p>
        </div>
      </div>
      
      <div class="feature-bar">
        <div class="feature-content">
          <h3><i class='bx bxs-shield'></i> 安全与伦理分析</h3>
          <p>检测模型潜在偏见、有害内容输出及伦理问题，确保安全部署</p>
        </div>
      </div>
      
      <div class="feature-bar">
        <div class="feature-content">
          <h3><i class='bx bxs-dashboard'></i> 实时性能监控</h3>
          <p>监控模型评估的实时进度，快速识别性能下降或异常行为</p>
        </div>
      </div>
      
      <div class="feature-bar">
        <div class="feature-content">
          <h3><i class='bx bxs-group'></i> 社区基准测试</h3>
          <p>参与社区驱动的基准测试，比较不同模型在各种任务上的表现</p>
        </div>
      </div>
    </div>

  </div>
  
  <!-- 注册表单区域 -->
  <div class="registration-section">
    <button class="close-btn" id="closeBtn">
      <i class='bx bx-x'></i>
    </button>
    
    <div class="form-container">
      <div class="card">
        <div class="card-header">
          <div class="logo">
            <svg viewBox="0 0 200 50" width="200" height="50">
              <text x="0" y="35" font-family="Inter" font-size="30" font-weight="700" fill="#2c3e50">LMs</text>
              <text x="65" y="35" font-family="Inter" font-size="30" font-weight="700" fill="#4A90E2">Evaluator</text>
            </svg>
          </div>
          <h3>创建专业账户</h3>
          <p>加入AI研究社区</p>
        </div>
        
        <div class="card-body">
          <form id="registerForm">
            <div class="form-group">
              <input type="text" id="username" class="form-control" placeholder=" " required>
              <label for="username" class="form-label">用户名</label>
              <span class="hint">4-20个字符，可包含字母、数字和下划线</span>
            </div>
            
            <div class="form-group">
              <input type="email" id="email" class="form-control" placeholder=" " required>
              <label for="email" class="form-label">电子邮箱</label>
              <span class="hint">请输入有效的电子邮箱地址</span>
            </div>
            
            <div class="form-group">
              <div class="password-container">
                <input type="password" id="password" class="form-control" placeholder=" " required>
                <label for="password" class="form-label">密码</label>
                <button type="button" class="toggle-password">
                  <i class='bx bx-hide'></i>
                </button>
              </div>
              <div class="password-strength">
                <div class="strength-bar"></div>
              </div>
              <div class="strength-text">密码强度: <span id="strengthIndicator">无</span></div>
              <span class="hint">至少8个字符，包含字母和数字</span>
            </div>
            
            <div class="form-group">
              <div class="password-container">
                <input type="password" id="confirmPassword" class="form-control" placeholder=" " required>
                <label for="confirmPassword" class="form-label">确认密码</label>
              </div>
              <span id="passwordMatch" class="hint"></span>
            </div>
            
            <div class="form-group">
              <div class="verification-group">
                <input type="text" id="verificationCode" class="form-control" placeholder="验证码" required>
                <button type="button" id="sendCodeBtn">获取验证码</button>
              </div>
              <span class="hint">验证码将发送到您的电子邮箱</span>
            </div>
            
            <div class="avatar-selector">
              <label>选择头像</label>
              <div class="avatar-scroller-container">
                <button class="nav-btn left" id="avatarLeftBtn">
                  <i class='bx bx-chevron-left'></i>
                </button>
                <!-- 头像选择器部分 - 已修复为Gitee链接 -->
                <div class="avatar-scroller" id="avatarScroller">
                  <div class="avatar-item selected">
                    <img src="https://gitee.com/topiza/newimage/raw/master/file_12.png" alt="Professional 1">
                  </div>
                  <div class="avatar-item">
                    <img src="https://gitee.com/topiza/newimage/raw/master/file_2.png" alt="Professional 2">
                  </div>
                  <div class="avatar-item">
                    <img src="https://gitee.com/topiza/newimage/raw/master/file_3.png" alt="Professional 3">
                  </div>
                  <div class="avatar-item">
                    <img src="https://gitee.com/topiza/newimage/raw/master/file_4.png" alt="Professional 4">
                  </div>
                  <div class="avatar-item">
                    <img src="https://gitee.com/topiza/newimage/raw/master/file_5.png" alt="Professional 5">
                  </div>
                  <div class="avatar-item">
                    <img src="https://gitee.com/topiza/newimage/raw/master/file_6.png" alt="Professional 6">
                  </div>
                  <div class="avatar-item">
                    <img src="https://gitee.com/topiza/newimage/raw/master/file_7.png" alt="Professional 7">
                  </div>
                  <div class="avatar-item">
                    <img src="https://gitee.com/topiza/newimage/raw/master/file_8.png" alt="Professional 8">
                  </div>
                  <div class="avatar-item">
                    <img src="https://gitee.com/topiza/newimage/raw/master/file_9.png" alt="Professional 9">
                  </div>
                  <div class="avatar-item">
                    <img src="https://gitee.com/topiza/newimage/raw/master/file_10.png" alt="Professional 10">
                  </div>
                  <div class="avatar-item">
                    <img src="https://gitee.com/topiza/newimage/raw/master/file_11.png" alt="Professional 11">
                  </div>
                  <div class="avatar-item">
                    <img src="https://gitee.com/topiza/newimage/raw/master/file_1.png" alt="Professional 12">
                  </div>
                </div>
                <button class="nav-btn right" id="avatarRightBtn">
                  <i class='bx bx-chevron-right'></i>
                </button>
              </div>
            </div>
            
            <div class="terms-container">
              <input type="checkbox" id="termsCheck" required>
              <label for="termsCheck" class="terms-label">
                我同意 <a id="termsLink" class="terms-link" href="#">服务条款与隐私政策</a>
                <span class="terms-required">*</span>
              </label>
            </div>
            
            <button type="submit" class="submit-btn">
              创建账户 <i class='bx bx-right-arrow-alt'></i>
            </button>
          </form>
        </div>
        
        <div class="card-footer">
            <p>已有账户? <a href="../pages/sign-in.html" class="login-link">立即登录</a></p>
        </div>
      </div>
    </div>
  </div>
  
  <!-- 服务条款模态框 -->
  <div class="terms-modal" id="termsModal">
    <div class="terms-content">
      <div class="terms-header">
        <h2 class="terms-title">服务条款与隐私政策</h2>
        <button class="close-terms">&times;</button>
      </div>
      <div class="terms-body">
        <div class="terms-section">
          <h3>1. 服务接受</h3>
          <p>欢迎使用LMsEvaluator平台（以下简称"本平台"）。在注册成为本平台用户前，请您仔细阅读并同意本服务条款。当您完成注册流程并使用本平台时，即表示您已充分阅读、理解并接受本协议的全部内容。</p>
        </div>
        
        <div class="terms-section">
          <h3>2. 账户注册</h3>
          <p>2.1 您必须提供真实、准确、完整的注册信息，包括但不限于用户名、电子邮箱地址等。</p>
          <p>2.2 您有责任维护账户安全，对账户下发生的所有活动承担责任。</p>
          <p>2.3 如发现任何未经授权使用您账户的情况，应立即通知本平台。</p>
        </div>
        
        <div class="terms-section">
          <h3>3. 用户行为规范</h3>
          <p>3.1 您同意不利用本平台从事任何违法或不道德的活动。</p>
          <p>3.2 您不得发布任何侵犯他人知识产权的内容。</p>
          <p>3.3 您不得干扰或破坏本平台的正常运行。</p>
        </div>
        
        <div class="terms-section">
          <h3>4. 隐私保护</h3>
          <p>4.1 本平台承诺保护您的个人信息安全，未经您同意不会向第三方透露您的个人信息。</p>
          <p>4.2 我们可能会收集您使用本平台的相关数据，以改进服务质量。</p>
          <p>4.3 完整的隐私政策请参阅我们的《隐私政策》文档。</p>
        </div>
        
        <div class="terms-section">
          <h3>5. 知识产权</h3>
          <p>5.1 本平台的所有内容，包括但不限于文本、图形、标识、软件等，均受知识产权法保护。</p>
          <p>5.2 未经本平台书面许可，您不得复制、修改、传播本平台的任何内容。</p>
        </div>
        
        <div class="terms-section">
          <h3>6. 服务变更与终止</h3>
          <p>6.1 本平台保留随时修改或终止服务的权利，恕不另行通知。</p>
          <p>6.2 如您违反本协议条款，本平台有权暂停或终止您的账户。</p>
        </div>
        
        <div class="terms-section">
          <h3>7. 免责声明</h3>
          <p>7.1 本平台提供的服务按"原样"提供，不提供任何明示或暗示的担保。</p>
          <p>7.2 本平台不保证服务的及时性、安全性、准确性或不中断性。</p>
        </div>
        
        <div class="terms-section">
          <h3>8. 法律适用</h3>
          <p>本协议受中华人民共和国法律管辖。如发生争议，应友好协商解决；协商不成的，任何一方均可向有管辖权的人民法院提起诉讼。</p>
        </div>
      </div>
      <div class="terms-footer">
        <button class="agree-terms-btn">我已阅读并同意</button>
      </div>
    </div>
  </div>
  
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // 密码显示/隐藏切换
      const togglePassword = document.querySelector('.toggle-password');
      const passwordInput = document.getElementById('password');
      
      togglePassword.addEventListener('click', function() {
        const type = passwordInput.getAttribute('type') === 'password' ? 'text' : 'password';
        passwordInput.setAttribute('type', type);
        this.innerHTML = type === 'password' ? '<i class="bx bx-hide"></i>' : '<i class="bx bx-show"></i>';
      });
      
      // 密码强度检测
      passwordInput.addEventListener('input', function() {
        const password = this.value;
        const strengthBar = document.querySelector('.strength-bar');
        const strengthIndicator = document.getElementById('strengthIndicator');
        
        // 重置样式
        strengthBar.className = 'strength-bar';
        strengthIndicator.textContent = '无';
        strengthIndicator.className = '';
        
        if (password.length === 0) {
          strengthBar.style.width = '0%';
          return;
        }
        
        // 评估密码强度
        let strength = 0;
        if (password.length > 7) strength++;
        if (/[A-Z]/.test(password)) strength++;
        if (/[0-9]/.test(password)) strength++;
        if (/[^A-Za-z0-9]/.test(password)) strength++;
        
        // 更新UI
        if (strength < 2) {
          strengthBar.classList.add('strength-weak');
          strengthIndicator.textContent = '弱';
          strengthIndicator.className = 'error';
        } else if (strength < 4) {
          strengthBar.classList.add('strength-medium');
          strengthIndicator.textContent = '中';
          strengthIndicator.className = 'warning';
        } else {
          strengthBar.classList.add('strength-strong');
          strengthIndicator.textContent = '强';
          strengthIndicator.className = 'success';
        }
      });
      
      // 密码匹配检测
      const confirmPasswordInput = document.getElementById('confirmPassword');
      const passwordMatchIndicator = document.getElementById('passwordMatch');
      
      function checkPasswordMatch() {
        const password = passwordInput.value;
        const confirmPassword = confirmPasswordInput.value;
        
        if (password === '' || confirmPassword === '') {
          passwordMatchIndicator.textContent = '';
          passwordMatchIndicator.className = '';
          return;
        }
        
        if (password === confirmPassword) {
          passwordMatchIndicator.textContent = '密码匹配';
          passwordMatchIndicator.className = 'success';
        } else {
          passwordMatchIndicator.textContent = '密码不匹配';
          passwordMatchIndicator.className = 'error';
        }
      }
      
      passwordInput.addEventListener('input', checkPasswordMatch);
      confirmPasswordInput.addEventListener('input', checkPasswordMatch);
      
      // 头像选择器
      const avatarItems = document.querySelectorAll('.avatar-item');
      avatarItems.forEach(item => {
        item.addEventListener('click', function() {
          document.querySelector('.avatar-item.selected').classList.remove('selected');
          this.classList.add('selected');
        });
      });
      
      // 头像导航按钮
      const avatarScroller = document.getElementById('avatarScroller');
      const avatarLeftBtn = document.getElementById('avatarLeftBtn');
      const avatarRightBtn = document.getElementById('avatarRightBtn');
      
      // 更新导航按钮状态
      function updateNavButtons() {
        // 隐藏/显示左箭头
        if (avatarScroller.scrollLeft === 0) {
          avatarLeftBtn.classList.add('hidden');
        } else {
          avatarLeftBtn.classList.remove('hidden');
        }
        
        // 隐藏/显示右箭头
        if (avatarScroller.scrollLeft + avatarScroller.clientWidth >= avatarScroller.scrollWidth - 10) {
          avatarRightBtn.classList.add('hidden');
        } else {
          avatarRightBtn.classList.remove('hidden');
        }
      }
      
      // 初始更新按钮状态
      updateNavButtons();
      
      // 监听滚动事件
      avatarScroller.addEventListener('scroll', updateNavButtons);
      
      // 左箭头点击
      avatarLeftBtn.addEventListener('click', function() {
        avatarScroller.scrollBy({
          left: -200,
          behavior: 'smooth'
        });
      });
      
      // 右箭头点击
      avatarRightBtn.addEventListener('click', function() {
        avatarScroller.scrollBy({
          left: 200,
          behavior: 'smooth'
        });
      });
      
      // 表单提交
      const registerForm = document.getElementById('registerForm');
      registerForm.addEventListener('submit', async function(e) {
        e.preventDefault();
        
        // 表单验证
        const username = document.getElementById('username').value;
        const email = document.getElementById('email').value;
        const password = document.getElementById('password').value;
        const confirmPassword = document.getElementById('confirmPassword').value;
        const verificationCode = document.getElementById('verificationCode').value;
        
        if (!username || !email || !password || !confirmPassword || !verificationCode) {
          showNotification('error', '请填写所有必填字段');
          return;
        }
        
        if (password !== confirmPassword) {
          showNotification('error', '两次输入的密码不一致');
          return;
        }
        
        // 检查是否同意服务条款
        if (!document.getElementById('termsCheck').checked) {
          showNotification('info', '请同意服务条款和隐私政策','提示');
          return;
        }
        
        // 获取选择的头像
        const avatar = document.querySelector('.avatar-item.selected img').src;
        
        // 创建表单数据
        const formData = {
          username,
          email,
          password,
          verificationCode,
          avatar
        };
        
        try {
          const axios = await import('../assets/js/utils/axiosConfig.js');
          const response = await axios.default.post('/api/register', formData);

          const data = response.data;
          if (data.code === 201) {
            showNotification('success', '注册成功', '您的账户已创建成功');
            
            // 表单提交成功效果
            const submitBtn = document.querySelector('.submit-btn');
            submitBtn.innerHTML = '<i class="bx bx-check"></i> 账户创建成功';
            submitBtn.style.backgroundColor = '#10b981';
            submitBtn.disabled = true;
            
            setTimeout(() => {
              submitBtn.innerHTML = '正在跳转到仪表盘 <i class="bx bx-right-arrow-alt"></i>';
              setTimeout(() => {
                // 实际应用中这里会有页面跳转
                registerForm.reset();
                document.querySelector('.strength-bar').className = 'strength-bar';
                document.getElementById('strengthIndicator').textContent = '无';
                document.getElementById('strengthIndicator').className = '';
                document.getElementById('passwordMatch').textContent = '';
                document.getElementById('passwordMatch').className = '';
                submitBtn.innerHTML = '创建专业账户 <i class="bx bx-right-arrow-alt"></i>';
                submitBtn.style.backgroundColor = '';
                submitBtn.disabled = false;
              }, 250);
              window.location.href = '../pages/sign-in.html';
            }, 250);
          } else {
            showNotification('error', '注册失败', response.message || '请检查您的注册信息');
          }
        } catch (error) {
          showNotification('error', '注册失败', error.message || '请稍后重试');
        }
      });
      
      // 验证码按钮
      const sendCodeBtn = document.getElementById('sendCodeBtn');
      sendCodeBtn.addEventListener('click', async function() {
        const email = document.getElementById('email').value;
        
        if (!email || !/^\S+@\S+\.\S+$/.test(email)) {
          showNotification('error', '请输入有效的邮箱地址');
          return;
        }
        
        // 检查是否同意服务条款
        if (!document.getElementById('termsCheck').checked) {
          showNotification('info', '请同意服务条款和隐私政策','提示');
          return;
        }
        
        try {
          
          const axios = await import('../assets/js/utils/axiosConfig.js');
          const response = await axios.default.post('/api/send_verification_code', {
            'email': email
          });
          // ✅ 正确：axios 使用 response.data，不是 response.json()
          const data = response.data;
          if (data.code === 200) {
            showNotification('success', '验证码已发送', '验证码已发送至您的邮箱');
            
            // 禁用按钮并开始倒计时
            this.disabled = true;
            this.textContent = '60秒后重试';
            
            let countdown = 60;
            const timer = setInterval(() => {
              countdown--;
              this.textContent = `${countdown}秒后重试`;
              
              if (countdown <= 0) {
                clearInterval(timer);
                this.disabled = false;
                this.textContent = '获取验证码';
              }
            }, 1000);
          } else {
            showNotification('error', '验证码发送失败', response.message || '请稍后重试');
          }
        } catch (error) {
          showNotification('error', '验证码发送失败', error.message || '请稍后重试');
        }
      });
      
      // 关闭按钮
      const closeBtn = document.getElementById('closeBtn');
      closeBtn.addEventListener('click', function() {
        document.querySelector('.registration-section').style.transform = 'translateX(100%)';
        setTimeout(() => {
          document.querySelector('.registration-section').style.display = 'none';
        }, 500);
      });
      
      // 通知系统
      function showNotification(type, message, title = null) {
        const notificationContainer = document.getElementById('notificationContainer');
        
        // 创建通知元素
        const notification = document.createElement('div');
        notification.className = `notification ${type}`;
        
        // 设置图标
        let iconClass;
        switch(type) {
          case 'success':
            iconClass = 'bx bx-check-circle';
            title = title || '操作成功';
            break;
          case 'error':
            iconClass = 'bx bx-error-circle';
            title = title || '发生错误';
            break;
          case 'info':
            iconClass = 'bx bx-info-circle';
            title = title || '信息提示';
            break;
        }
        
        // 创建内容
        notification.innerHTML = `
          <i class="${iconClass}"></i>
          <div class="notification-content">
            <div class="notification-title">${title}</div>
            <div class="notification-message">${message}</div>
          </div>
          <button class="notification-close">
            <i class='bx bx-x'></i>
          </button>
          <div class="notification-progress">
            <div class="notification-progress-bar"></div>
          </div>
        `;
        
        // 添加到容器
        notificationContainer.appendChild(notification);
        
        // 显示通知
        setTimeout(() => {
          notification.classList.add('show');
          
          // 进度条动画
          const progressBar = notification.querySelector('.notification-progress-bar');
          progressBar.style.width = '0%';
          setTimeout(() => {
            progressBar.style.width = '100%';
          }, 10);
        }, 10);
        
        // 关闭按钮
        const closeBtn = notification.querySelector('.notification-close');
        closeBtn.addEventListener('click', () => {
          hideNotification(notification);
        });
        
        // 自动关闭
        setTimeout(() => {
          hideNotification(notification);
        }, 5000);
      }
      
      function hideNotification(notification) {
        notification.classList.remove('show');
        notification.classList.add('hide');
        
        // 动画结束后移除元素
        setTimeout(() => {
          notification.remove();
        }, 400);
      }
      
      // 服务条款弹窗功能 - 已修复
      const termsModal = document.getElementById('termsModal');
      const termsLink = document.getElementById('termsLink');
      const closeTermsBtn = document.querySelector('.close-terms');
      const agreeTermsBtn = document.querySelector('.agree-terms-btn');

      // 打开服务条款弹窗
      termsLink.addEventListener('click', function(e) {
        e.preventDefault();
        termsModal.classList.add('active');
        document.body.style.overflow = 'hidden';
      });

      // 关闭服务条款弹窗
      closeTermsBtn.addEventListener('click', function() {
        termsModal.classList.remove('active');
        document.body.style.overflow = '';
      });

      // 同意服务条款
      agreeTermsBtn.addEventListener('click', function() {
        document.getElementById('termsCheck').checked = true;
        termsModal.classList.remove('active');
        document.body.style.overflow = '';
        showNotification('success', '您已同意服务条款和隐私政策');
      });

      // 点击遮罩层关闭弹窗
      termsModal.addEventListener('click', function(e) {
        if (e.target === termsModal) {
          termsModal.classList.remove('active');
          document.body.style.overflow = '';
        }
      });

      // 按ESC键关闭弹窗
      document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape' && termsModal.classList.contains('active')) {
          termsModal.classList.remove('active');
          document.body.style.overflow = '';
        }
      });
    });
  </script>
</body>
</html>