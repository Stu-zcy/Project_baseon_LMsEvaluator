<!--
=========================================================
* Material Dashboard 3 - v3.2.0
=========================================================

* Product Page: https://www.creative-tim.com/product/material-dashboard
* Copyright 2024 Creative Tim (https://www.creative-tim.com)
* Licensed under MIT (https://www.creative-tim.com/license)
* Coded by Creative Tim

=========================================================

* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
-->
<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<link rel="apple-touch-icon" sizes="76x76" href="../assets/img/apple-icon.png">
	<link rel="icon" type="image/png" href="../assets/img/favicon.png">
	<title>
		LMsEvaluator
	</title>
	<!--     Fonts and icons     -->
	<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Inter:300,400,500,600,700,900" />
	<!-- Nucleo Icons -->
	<link href="../assets/css/nucleo-icons.css" rel="stylesheet" />
	<link href="../assets/css/nucleo-svg.css" rel="stylesheet" />
	<!-- Font Awesome Icons -->
	<script src="https://kit.fontawesome.com/42d5adcbca.js" crossorigin="anonymous"></script>
	<!-- Material Icons -->
	<link rel="stylesheet"
		href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@24,400,0,0" />
	<!-- CSS Files -->
	<link id="pagestyle" href="../assets/css/material-dashboard.css?v=3.2.0" rel="stylesheet" />
	<link href="../assets/css/custom-template.css" rel="stylesheet" />

	<!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"> -->
	<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
	<link
		href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"
		rel="stylesheet" />
	<style>
		:root {
			--primary: #4361ee;
			--secondary: #3f37c9;
			--success: #06d6a0;
			--info: #2196f3;
			--warning: #ffd166;
			--danger: #ef476f;
			--dark: #1e293b;
			--light: #f8f9fa;
			--gray: #64748b;
			--card-bg: #ffffff;
			--body-bg: #f0f2f5;
			--sidebar: #1e293b;
			--card-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
		}

		* {
			box-sizing: border-box;
			margin: 0;
			padding: 0;
		}

		body {
			/* font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; */
			background-color: var(--body-bg);
			color: #334155;
			padding: 0;
			min-height: 100vh;
			display: flex;
			flex-direction: column;
		}

		.app-container {
			display: flex;
			flex-direction: column;
			min-height: 100vh;
		}

		.action-buttons {
			display: flex;
			gap: 15px;
		}

		.btn {
			display: flex;
			align-items: center;
			gap: 8px;
			padding: 10px 20px;
			border-radius: 8px;
			font-weight: 500;
			transition: all 0.2s;
			border: none;
			box-shadow: 0 2px 6px rgba(0, 0, 0, 0.08);
		}

		.btn-light {
			background-color: #f0f4ff;
			color: var(--primary);
		}

		.btn-light:hover {
			background-color: #e2e8ff;
		}

		.btn-outline-primary {
			background: transparent;
			border: 1px solid var(--primary);
			color: var(--primary);
		}

		.btn-outline-primary:hover {
			background: var(--primary);
			color: white;
		}

		.btn-outline-success {
			background: transparent;
			border: 1px solid var(--success);
			color: var(--success);
		}

		.btn-outline-success:hover {
			background: var(--success);
			color: white;
		}

		/* 统计卡片 */
		.stats-container {
			display: grid;
			grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
			gap: 20px;
			margin-bottom: 30px;
		}

		.stats-card {
			background: var(--card-bg);
			border-radius: 12px;
			padding: 25px;
			box-shadow: var(--card-shadow);
			transition: all 0.3s;
			position: relative;
			overflow: hidden;
		}

		.stats-card:hover {
			transform: translateY(-5px);
			box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
		}

		.stats-card::before {
			content: '';
			position: absolute;
			top: 0;
			left: 0;
			height: 4px;
			width: 100%;
		}

		.stats-card.primary::before {
			background: var(--primary);
		}

		.stats-card.success::before {
			background: var(--success);
		}

		.stats-card.warning::before {
			background: var(--warning);
		}

		.stats-card.danger::before {
			background: var(--danger);
		}

		.stats-header {
			display: flex;
			justify-content: space-between;
			align-items: center;
			margin-bottom: 20px;
		}

		.stats-icon {
			width: 50px;
			height: 50px;
			border-radius: 12px;
			display: flex;
			align-items: center;
			justify-content: center;
			font-size: 24px;
		}

		.stats-card.primary .stats-icon {
			background: rgba(67, 97, 238, 0.1);
			color: var(--primary);
		}

		.stats-card.success .stats-icon {
			background: rgba(6, 214, 160, 0.1);
			color: var(--success);
		}

		.stats-card.warning .stats-icon {
			background: rgba(255, 209, 102, 0.1);
			color: var(--warning);
		}

		.stats-card.danger .stats-icon {
			background: rgba(239, 71, 111, 0.1);
			color: var(--danger);
		}

		.stats-content h3 {
			font-size: 1.8rem;
			font-weight: 700;
			margin-bottom: 5px;
		}

		.stats-content p {
			color: var(--gray);
			margin: 0;
		}

		/* 配置列表 */
		.config-card {
			background: var(--card-bg);
			border-radius: 12px;
			box-shadow: var(--card-shadow);
			overflow: hidden;
			margin-bottom: 30px;
		}

		.card-header {
			padding: 20px;
			background: white;
			border-bottom: 1px solid rgba(0, 0, 0, 0.05);
			display: flex;
			justify-content: space-between;
			align-items: center;
		}

		.card-header h2 {
			font-size: 1.3rem;
			font-weight: 600;
			margin: 0;
			display: flex;
			align-items: center;
			gap: 10px;
		}

		.card-tools {
			display: flex;
			gap: 10px;
		}

		.search-box {
			position: relative;
			width: 250px;
		}

		.search-box input {
			width: 100%;
			padding: 8px 15px 8px 40px;
			border-radius: 8px;
			border: 1px solid #e2e8f0;
			background: #f8fafc;
			transition: all 0.3s;
		}

		.search-box input:focus {
			outline: none;
			border-color: var(--primary);
			box-shadow: 0 0 0 3px rgba(67, 97, 238, 0.15);
			background: white;
		}

		.search-box i {
			position: absolute;
			left: 15px;
			top: 50%;
			transform: translateY(-50%);
			color: #94a3b8;
		}

		.table-container {
			overflow-x: auto;
		}

		table {
			width: 100%;
			border-collapse: separate;
			border-spacing: 0;
		}

		thead {
			background: #f1f5f9;
		}

		th {
			padding: 16px 20px;
			text-align: left;
			font-weight: 600;
			color: var(--gray);
			border-bottom: 1px solid #e2e8f0;
		}

		tbody tr {
			transition: background 0.2s;
		}

		tbody tr:hover {
			background: #f8fafc;
		}

		td {
			padding: 14px 20px;
			border-bottom: 1px solid #e2e8f0;
		}

		.status-badge {
			display: inline-block;
			padding: 5px 12px;
			border-radius: 20px;
			font-size: 0.85rem;
			font-weight: 500;
		}

		.status-active {
			background: rgba(6, 214, 160, 0.15);
			color: #06a075;
		}

		.status-inactive {
			background: rgba(239, 71, 111, 0.15);
			color: #c13b5d;
		}

		.badge {
			padding: 5px 12px;
			border-radius: 20px;
			font-size: 0.85rem;
			font-weight: 500;
		}

		.badge-primary {
			background: rgba(67, 97, 238, 0.15);
			color: var(--primary);
		}

		.badge-success {
			background: rgba(6, 214, 160, 0.15);
			color: var(--success);
		}

		.badge-warning {
			background: rgba(255, 209, 102, 0.15);
			color: var(--warning);
		}

		.badge-danger {
			background: rgba(239, 71, 111, 0.15);
			color: var(--danger);
		}

		.badge-info {
			background: rgba(33, 150, 243, 0.15);
			color: var(--info);
		}

		.badge-purple {
			background: rgba(156, 39, 176, 0.15);
			color: #9c27b0;
		}

		.action-buttons {
			display: flex;
			gap: 8px;
		}

		.btn-icon {
			width: 36px;
			height: 36px;
			display: flex;
			align-items: center;
			justify-content: center;
			border-radius: 8px;
			padding: 0;
		}

		.no-configs {
			text-align: center;
			padding: 50px 20px;
		}

		.no-configs i {
			font-size: 60px;
			color: #cbd5e1;
			margin-bottom: 20px;
		}

		.no-configs h4 {
			font-size: 1.3rem;
			margin-bottom: 10px;
			color: var(--dark);
		}

		.no-configs p {
			color: var(--gray);
			margin-bottom: 20px;
		}

		/* 模态框样式 */
		.modal-content {
			border-radius: 12px;
			overflow: hidden;
			border: none;
			box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
		}

		.modal-header {
			background: linear-gradient(120deg, var(--primary), var(--secondary));
			color: white;
			padding: 20px;
			border: none;
		}

		.modal-title {
			display: flex;
			align-items: center;
			gap: 10px;
			font-weight: 600;
		}

		.modal-body {
			padding: 25px;
		}

		.form-group {
			margin-bottom: 20px;
		}

		.form-group label {
			display: block;
			margin-bottom: 8px;
			font-weight: 500;
			color: var(--dark);
		}

		.form-control {
			width: 100%;
			padding: 12px 15px;
			border-radius: 8px;
			border: 1px solid #e2e8f0;
			background: #f8fafc;
			transition: all 0.3s;
		}

		.form-control:focus {
			outline: none;
			border-color: var(--primary);
			box-shadow: 0 0 0 3px rgba(67, 97, 238, 0.15);
			background: white;
		}

		.accordion {
			margin-top: 20px;
		}

		.accordion-button {
			padding: 15px;
			font-weight: 500;
			background: #f8fafc;
			border-radius: 8px !important;
			border: 1px solid #e2e8f0;
		}

		.accordion-button:not(.collapsed) {
			background: rgba(67, 97, 238, 0.05);
			color: var(--primary);
			box-shadow: none;
		}

		.accordion-body {
			padding: 20px;
			background: #f8fafc;
			border-radius: 0 0 8px 8px;
			border: 1px solid #e2e8f0;
			border-top: none;
		}

		.param-group {
			display: grid;
			grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
			gap: 15px;
		}

		.param-item {
			margin-bottom: 15px;
		}

		.modal-footer {
			padding: 15px 25px;
			border-top: 1px solid #e2e8f0;
			background: #f8fafc;
		}



		/* 响应式调整 */
		@media (max-width: 992px) {
			.app-container {
				flex-direction: column;
			}
		}

		@media (max-width: 768px) {
			.page-header {
				flex-direction: column;
				align-items: flex-start;
				gap: 15px;
			}

			.action-buttons {
				width: 100%;
				flex-wrap: wrap;
			}

			.btn {
				flex: 1;
				min-width: 120px;
			}

			.stats-container {
				grid-template-columns: 1fr;
			}

			.param-group {
				grid-template-columns: 1fr;
			}

			.footer-content {
				flex-direction: column;
				gap: 15px;
				text-align: center;
			}

			.footer-links {
				display: flex;
				justify-content: center;
				flex-wrap: wrap;
				gap: 15px;
				margin-top: 10px;
			}

			.footer-links a {
				margin: 0;
			}
		}

		.toast {
			position: fixed;
			top: 20px;
			right: 20px;
			z-index: 9999;
			padding: 15px 25px;
			border-radius: 8px;
			color: white;
			font-weight: 500;
			box-shadow: 0 5px 15px rgba(0, 0, 0, 0.15);
			display: flex;
			align-items: center;
			gap: 10px;
			transform: translateX(110%);
			transition: transform 0.3s ease;
		}

		.toast.show {
			transform: translateX(0);
		}

		.toast-success {
			background: linear-gradient(120deg, var(--success), #0a8754);
		}

		.toast-error {
			background: linear-gradient(120deg, var(--danger), #b91c1c);
		}

		.toast i {
			font-size: 24px;
		}

		/* 新增的渐变背景 */
		.gradient-bg {
			background: linear-gradient(135deg, #f5f7fa 0%, #e4e7f1 100%);
			padding: 40px 0;
		}

		.feature-card {
			background: white;
			border-radius: 12px;
			padding: 25px;
			box-shadow: var(--card-shadow);
			transition: all 0.3s;
			height: 100%;
		}

		.feature-card:hover {
			transform: translateY(-5px);
			box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
		}

		.feature-card i {
			font-size: 48px;
			margin-bottom: 20px;
			color: var(--primary);
		}

		.feature-card h3 {
			font-size: 1.4rem;
			font-weight: 600;
			margin-bottom: 15px;
			color: var(--dark);
		}

		.feature-card p {
			color: var(--gray);
		}
	</style>
</head>



<body class="g-sidenav-show  bg-gray-100">
	<aside class="sidenav navbar navbar-vertical navbar-expand-xs border-radius-lg fixed-start ms-2  bg-white my-2"
		id="sidenav-main">
		<div class="sidenav-header">
			<i class="fas fa-times p-3 cursor-pointer text-dark opacity-5 position-absolute end-0 top-0 d-none d-xl-none"
				aria-hidden="true" id="iconSidenav"></i>
			<a class="navbar-brand px-4 py-3 m-0" href="../pages/dashboard.html"
				target="_blank">
				<img src="../assets/img/logo-ct-dark.png" class="navbar-brand-img" width="26" height="26" alt="main_logo">
				<span class="ms-1 text-sm text-dark">LMsEvaluator</span>
			</a>
		</div>
		<hr class="horizontal dark mt-0 mb-2">
		<div class="collapse navbar-collapse  w-auto " id="sidenav-collapse-main">
			<ul class="navbar-nav">
				<li class="nav-item">
            <a class="nav-link text-dark active" href="../pages/dashboard.html">
                <i class="material-symbols-rounded opacity-5">dashboard</i>
                <span class="nav-link-text ms-1">攻击控制台</span>
            </a>
        </li>
				<li class="nav-item">
					<a class="nav-link text-dark" href="../pages/tables.html">
						<i class="material-symbols-rounded opacity-5">table_view</i>
						<span class="nav-link-text ms-1">攻击数据分析</span>
					</a>
				</li>
				<!-- <li class="nav-item">
          <a class="nav-link text-dark" href="../pages/billing.html">
            <i class="material-symbols-rounded opacity-5">receipt_long</i>
            <span class="nav-link-text ms-1">Billing</span>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link text-dark" href="../pages/virtual-reality.html">
            <i class="material-symbols-rounded opacity-5">view_in_ar</i>
            <span class="nav-link-text ms-1">Virtual Reality</span>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link text-dark" href="../pages/rtl.html">
            <i class="material-symbols-rounded opacity-5">format_textdirection_r_to_l</i>
            <span class="nav-link-text ms-1">RTL</span>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link text-dark" href="../pages/notifications.html">
            <i class="material-symbols-rounded opacity-5">notifications</i>
            <span class="nav-link-text ms-1">Notifications</span>
          </a>
        </li> -->
				<li class="nav-item mt-3">
					<h6 class="ps-4 ms-2 text-uppercase text-xs text-dark font-weight-bolder opacity-5">用户页面</h6>
				</li>
				<li class="nav-item">
					<a class="nav-link text-dark" href="../pages/profile.html">
						<i class="material-symbols-rounded opacity-5">person</i>
						<span class="nav-link-text ms-1">个人主页</span>
					</a>
				</li>
				<li class="nav-item">
					<a class="nav-link text-dark" href="../pages/sign-in.html">
						<i class="material-symbols-rounded opacity-5">login</i>
						<span class="nav-link-text ms-1">登出</span>
					</a>
				</li>
				<!-- <li class="nav-item">
          <a class="nav-link text-dark" href="../pages/sign-up.html">
            <i class="material-symbols-rounded opacity-5">assignment</i>
            <span class="nav-link-text ms-1">Sign Up</span>
          </a>
        </li> -->
			</ul>
		</div>
	</aside>
	<main class="main-content position-relative max-height-vh-100 h-100 border-radius-lg ">
		<!-- Navbar -->
		<nav class="navbar navbar-main navbar-expand-lg px-0 mx-3 shadow-none border-radius-xl" id="navbarBlur"
			data-scroll="true">
			<div class="container-fluid py-1 px-3">
				<nav aria-label="breadcrumb">
					<ol class="breadcrumb bg-transparent mb-0 pb-0 pt-1 px-0 me-sm-6 me-5">
						<li class="breadcrumb-item text-sm text-dark opacity-5">页面</li>
						<li class="breadcrumb-item text-sm text-dark active" aria-current="page">攻击控制台</li>
					</ol>
				</nav>
				<div class="collapse navbar-collapse mt-sm-0 mt-2 me-md-0 me-sm-4" id="navbar">
					<!-- <div class="ms-md-auto pe-md-3 d-flex align-items-center">
            <div class="input-group input-group-outline">
              <label class="form-label">Type here...</label>
              <input type="text" class="form-control">
            </div>
          </div> -->
					<ul class="navbar-nav d-flex align-items-center  justify-content-end">
						<!-- <li class="nav-item d-flex align-items-center">
              <a class="btn btn-outline-primary btn-sm mb-0 me-3" target="_blank" href="https://www.creative-tim.com/builder?ref=navbar-material-dashboard">Online Builder</a>
            </li> -->
						<!-- <li class="mt-1">
              <a class="github-button" href="https://github.com/Kyaruk/LMsEvaluator" data-icon="octicon-star" data-size="large" data-show-count="true" aria-label="Star creativetimofficial/material-dashboard on GitHub">Star</a>
            </li> -->
						<li class="nav-item d-xl-none ps-3 d-flex align-items-center">
							<a href="javascript:;" class="nav-link text-body p-0" id="iconNavbarSidenav">
								<div class="sidenav-toggler-inner">
									<i class="sidenav-toggler-line"></i>
									<i class="sidenav-toggler-line"></i>
									<i class="sidenav-toggler-line"></i>
								</div>
							</a>
						</li>
						<!--
            <li class="nav-item px-3 d-flex align-items-center">
              <a href="javascript:;" class="nav-link text-body p-0">
                <i class="material-symbols-rounded fixed-plugin-button-nav">settings</i>
              </a>
            </li>
            <li class="nav-item dropdown pe-3 d-flex align-items-center">
              <a href="javascript:;" class="nav-link text-body p-0" id="dropdownMenuButton" data-bs-toggle="dropdown" aria-expanded="false">
                <i class="material-symbols-rounded">notifications</i>
              </a>
              <ul class="dropdown-menu  dropdown-menu-end  px-2 py-3 me-sm-n4" aria-labelledby="dropdownMenuButton">
                <li class="mb-2">
                  <a class="dropdown-item border-radius-md" href="javascript:;">
                    <div class="d-flex py-1">
                      <div class="my-auto">
                        <img src="../assets/img/team-2.jpg" class="avatar avatar-sm  me-3 ">
                      </div>
                      <div class="d-flex flex-column justify-content-center">
                        <h6 class="text-sm font-weight-normal mb-1">
                          <span class="font-weight-bold">New message</span> from Laur
                        </h6>
                        <p class="text-xs text-secondary mb-0">
                          <i class="fa fa-clock me-1"></i>
                          13 minutes ago
                        </p>
                      </div>
                    </div>
                  </a>
                </li>
                <li class="mb-2">
                  <a class="dropdown-item border-radius-md" href="javascript:;">
                    <div class="d-flex py-1">
                      <div class="my-auto">
                        <img src="../assets/img/small-logos/logo-spotify.svg" class="avatar avatar-sm bg-gradient-dark  me-3 ">
                      </div>
                      <div class="d-flex flex-column justify-content-center">
                        <h6 class="text-sm font-weight-normal mb-1">
                          <span class="font-weight-bold">New album</span> by Travis Scott
                        </h6>
                        <p class="text-xs text-secondary mb-0">
                          <i class="fa fa-clock me-1"></i>
                          1 day
                        </p>
                      </div>
                    </div>
                  </a>
                </li>
                <li>
                  <a class="dropdown-item border-radius-md" href="javascript:;">
                    <div class="d-flex py-1">
                      <div class="avatar avatar-sm bg-gradient-secondary  me-3  my-auto">
                        <svg width="12px" height="12px" viewBox="0 0 43 36" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                          <title>credit-card</title>
                          <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                            <g transform="translate(-2169.000000, -745.000000)" fill="#FFFFFF" fill-rule="nonzero">
                              <g transform="translate(1716.000000, 291.000000)">
                                <g transform="translate(453.000000, 454.000000)">
                                  <path class="color-background" d="M43,10.7482083 L43,3.58333333 C43,1.60354167 41.3964583,0 39.4166667,0 L3.58333333,0 C1.60354167,0 0,1.60354167 0,3.58333333 L0,10.7482083 L43,10.7482083 Z" opacity="0.593633743"></path>
                                  <path class="color-background" d="M0,16.125 L0,32.25 C0,34.2297917 1.60354167,35.8333333 3.58333333,35.8333333 L39.4166667,35.8333333 C41.3964583,35.8333333 43,34.2297917 43,32.25 L43,16.125 L0,16.125 Z M19.7083333,26.875 L7.16666667,26.875 L7.16666667,23.2916667 L19.7083333,23.2916667 L19.7083333,26.875 Z M35.8333333,26.875 L28.6666667,26.875 L28.6666667,23.2916667 L35.8333333,23.2916667 L35.8333333,26.875 Z"></path>
                                </g>
                              </g>
                            </g>
                          </g>
                        </svg>
                      </div>
                      <div class="d-flex flex-column justify-content-center">
                        <h6 class="text-sm font-weight-normal mb-1">
                          Payment successfully completed
                        </h6>
                        <p class="text-xs text-secondary mb-0">
                          <i class="fa fa-clock me-1"></i>
                          2 days
                        </p>
                      </div>
                    </div>
                  </a>
                </li>
              </ul>
            </li> -->
						<li class="nav-item d-flex align-items-center">
							<a href="../pages/profile.html" class="nav-link text-body font-weight-bold px-0">
								<i class="material-symbols-rounded">account_circle</i>
							</a>
						</li>
					</ul>
				</div>
			</div>
		</nav>
		<!-- End Navbar -->
		<!-- 渐变背景区域 -->
		<div class="gradient-bg">
			<div class="container">
			<div class="row g-4">
				<div class="col-md-4">
				<div class="feature-card text-center">
					<i class="material-icons">tune</i>
					<h3>高级配置管理</h3>
					<p>轻松创建、编辑和管理复杂的攻击配置，支持多种攻击类型和策略</p>
				</div>
				</div>
				<div class="col-md-4">
				<div class="feature-card text-center">
					<i class="material-icons">analytics</i>
					<h3>实时数据统计</h3>
					<p>通过直观的统计卡片监控系统状态，包括配置数量、活跃状态和执行次数</p>
				</div>
				</div>
				<div class="col-md-4">
				<div class="feature-card text-center">
					<i class="material-icons">bolt</i>
					<h3>快速执行攻击</h3>
					<p>一键发送配置并执行攻击，高效完成安全测试任务</p>
				</div>
				</div>
			</div>
			</div>
		</div>

		<div class="container-fluid">
			<!-- 主内容区 -->
			<main class="main-content">
			<!-- 页面标题和操作按钮 -->
			<div class="page-header">
				<div class="page-title">
				<h1>攻击配置管理</h1>
				<p>管理您的攻击类型、策略和高级设置</p>
				</div>
				<div class="action-buttons">
				<button class="btn btn-light" id="addNewConfigBtn">
					<i class="material-icons">add</i> 添加配置
				</button>
				<button class="btn btn-outline-primary" id="sendConfigBtn">
					<i class="material-icons">send</i> 发送配置
				</button>
				<button class="btn btn-outline-success" id="executeAttackBtn">
					<i class="material-icons">play_arrow</i> 执行攻击
				</button>
				</div>
			</div>
			
			<!-- 统计卡片 -->
			<div class="stats-container">
				<div class="stats-card primary">
				<div class="stats-header">
					<div class="stats-icon">
					<i class="material-icons">list_alt</i>
					</div>
				</div>
				<div class="stats-content">
					<h3 id="totalConfigs">0</h3>
					<p>总配置数</p>
				</div>
				</div>
				
				<div class="stats-card success">
				<div class="stats-header">
					<div class="stats-icon">
					<i class="material-icons">check_circle</i>
					</div>
				</div>
				<div class="stats-content">
					<h3 id="activeConfigs">0</h3>
					<p>活跃配置</p>
				</div>
				</div>
				
				<div class="stats-card warning">
				<div class="stats-header">
					<div class="stats-icon">
					<i class="material-icons">schedule</i>
					</div>
				</div>
				<div class="stats-content">
					<h3 id="attackTypes">0</h3>
					<p>攻击类型</p>
				</div>
				</div>
				
				<div class="stats-card danger">
				<div class="stats-header">
					<div class="stats-icon">
					<i class="material-icons">bolt</i>
					</div>
				</div>
				<div class="stats-content">
					<h3 id="executedAttacks">0</h3>
					<p>已执行攻击</p>
				</div>
				</div>
			</div>
			
			<!-- 配置列表 -->
			<div class="config-card">
				<div class="card-header">
				<h2>
					<i class="material-icons">list</i>
					攻击配置列表
					<span class="badge bg-primary" id="configCounter">0</span>
				</h2>
				<div class="card-tools">
					<div class="search-box">
					<i class="material-icons">search</i>
					<input type="text" id="searchInput" placeholder="搜索配置...">
					</div>
					<div class="dropdown">
					<button class="btn btn-light dropdown-toggle" type="button" id="statusFilterDropdown" data-bs-toggle="dropdown">
						<i class="material-icons">filter_list</i> 状态筛选
					</button>
					<ul class="dropdown-menu">
						<li><a class="dropdown-item filter-option" href="#" data-filter="all">全部状态</a></li>
						<li><a class="dropdown-item filter-option" href="#" data-filter="active">活跃配置</a></li>
						<li><a class="dropdown-item filter-option" href="#" data-filter="inactive">已禁用</a></li>
						<li><a class="dropdown-item filter-option" href="#" data-filter="sent">已发送</a></li>
						<li><a class="dropdown-item filter-option" href="#" data-filter="not_sent">未发送</a></li>
						<li><a class="dropdown-item filter-option" href="#" data-filter="executed">已执行</a></li>
						<li><a class="dropdown-item filter-option" href="#" data-filter="not_executed">未执行</a></li>
					</ul>
					</div>
					<div class="dropdown">
					<button class="btn btn-light dropdown-toggle" type="button" id="typeFilterDropdown" data-bs-toggle="dropdown">
						<i class="material-icons">label</i> 类型筛选
					</button>
					<ul class="dropdown-menu" id="typeFilterMenu">
						<li><a class="dropdown-item type-filter-option" href="#" data-type="all">全部类型</a></li>
						<!-- 动态生成攻击类型选项 -->
					</ul>
					</div>
				</div>
				</div>
				
				<div id="filterTags" class="filter-container"></div>
				
				<div class="table-container">
				<table>
					<thead>
					<tr>
						<th>配置名称</th>
						<th>攻击类型</th>
						<th>攻击策略</th>
						<th>状态</th>
						<th>创建时间</th>
						<th>操作</th>
					</tr>
					</thead>
					<tbody id="configTableBody">
					<!-- 配置列表会动态填充 -->
					</tbody>
				</table>
				</div>
				
				<div id="noConfigsMessage" class="no-configs d-none">
				<i class="material-icons">folder_off</i>
				<h4>暂无配置</h4>
				<p>点击"添加新配置"按钮创建您的第一个攻击配置</p>
				<button class="btn btn-primary mt-3" id="addFirstConfigBtn">
					<i class="material-icons">add</i> 添加配置
				</button>
				</div>
			</div>
			</main>
		</div>
		
		<!-- 配置弹窗 -->
		<div class="modal fade" id="configModal" tabindex="-1">
			<div class="modal-dialog modal-lg">
			<div class="modal-content">
				<div class="modal-header">
				<h5 class="modal-title">
					<i class="material-icons">settings</i>
					<span id="modalTitle">添加新攻击配置</span>
				</h5>
				<button type="button" class="btn-close" data-bs-dismiss="modal"></button>
				</div>
				<div class="modal-body">
				<form id="attackConfigForm">
					<div class="row">
					<div class="col-md-6">
						<div class="form-group">
						<label for="attackType">攻击类型</label>
						<select class="form-control" id="attackType" name="attackType">
							<option value="AdversarialAttack">对抗攻击</option>
							<option value="FET">梯度反演</option>
							<option value="BackDoorAttack">后门攻击</option>
							<option value="PoisoningAttack">数据投毒</option>
							<option value="RLMI">模型反演</option>
							<option value="GIAforNLP">通用NLP攻击</option>
							<option value="ModelStealingAttack">模型窃取攻击</option>
						</select>
						</div>
					</div>
					<div class="col-md-6">
						<div class="form-group">
						<label for="attackStrategy">攻击策略</label>
						<select class="form-control" id="attackStrategy" name="attackStrategy"></select>
						</div>
					</div>
					</div>
					
					<div class="form-group">
					<label for="configName">配置名称 <span class="text-danger">*</span></label>
					<input type="text" class="form-control" id="configName" placeholder="输入配置名称" required>
					</div>
					
					<div class="form-group">
					<label for="description">攻击描述</label>
					<textarea class="form-control" id="description" rows="3" placeholder="输入攻击描述..."></textarea>
					</div>
					
					<div class="accordion" id="advancedSettingsAccordion">
					<div class="accordion-item">
						<h2 class="accordion-header" id="headingAdvanced">
						<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseAdvanced">
							<i class="material-icons me-2">tune</i> 高级设置
						</button>
						</h2>
						<div id="collapseAdvanced" class="accordion-collapse collapse show">
						<div class="accordion-body">
							<div class="param-group" id="advancedSettingsContent">
							<!-- 动态生成的高级设置字段将在这里显示 -->
							</div>
						</div>
						</div>
					</div>
					</div>
				</form>
				</div>
				<div class="modal-footer">
				<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">取消</button>
				<button type="button" class="btn btn-primary" id="saveConfigBtn">保存配置</button>
				</div>
			</div>
			</div>
		</div>
		<footer class="footer py-4  ">
			<div class="container-fluid">
				<div class="row align-items-center justify-content-lg-between">
					<div class="col-lg-6 mb-lg-0 mb-4">
						<div class="copyright text-center text-sm text-muted text-lg-start">
							©
							<script>
								document.write(new Date().getFullYear())
							</script>,
							攻击配置管理系统 | 安全研究平台
						</div>
					</div>
					<div class="col-lg-6">
						<ul class="nav nav-footer justify-content-center justify-content-lg-end">
							<li class="nav-item">
								<a href="https://shi.buaa.edu.cn/gaoyingketizu/zh_CN/index.htm" class="nav-link text-muted" target="_blank">关于我们</a>
							</li>
							<li class="nav-item">
								<a href="#" class="nav-link text-muted" target="_blank">隐私政策</a>
							</li>
							<li class="nav-item">
								<a href="#" class="nav-link text-muted" target="_blank">使用条款</a>
							</li>
							<li class="nav-item">
								<a href="#" class="nav-link pe-0 text-muted"
									target="_blank">帮助中心</a>
							</li>
						</ul>
					</div>
				</div>
			</div>
		</footer>
	</main>
	<!-- <div class="fixed-plugin">
		<a class="fixed-plugin-button text-dark position-fixed px-3 py-2">
			<i class="material-symbols-rounded py-2">settings</i>
		</a>
		<div class="card shadow-lg">
			<div class="card-header pb-0 pt-3">
				<div class="float-start">
					<h5 class="mt-3 mb-0">Material UI Configurator</h5>
					<p>See our dashboard options.</p>
				</div>
				<div class="float-end mt-4">
					<button class="btn btn-link text-dark p-0 fixed-plugin-close-button">
						<i class="material-symbols-rounded">clear</i>
					</button>
				</div>
			</div>
			<hr class="horizontal dark my-1">
			<div class="card-body pt-sm-3 pt-0">
				<div class="mt-3">
					<h6 class="mb-0">Sidenav Type</h6>
					<p class="text-sm">Choose between different sidenav types.</p>
				</div>
				<div class="d-flex">
					<button class="btn bg-gradient-dark px-3 mb-2" data-class="bg-gradient-dark"
						onclick="sidebarType(this)">Dark</button>
					<button class="btn bg-gradient-dark px-3 mb-2 ms-2" data-class="bg-transparent"
						onclick="sidebarType(this)">Transparent</button>
					<button class="btn bg-gradient-dark px-3 mb-2  active ms-2" data-class="bg-white"
						onclick="sidebarType(this)">White</button>
				</div>
				<p class="text-sm d-xl-none d-block mt-2">You can change the sidenav type just on desktop view.</p>
				<div class="mt-3 d-flex">
					<h6 class="mb-0">Navbar Fixed</h6>
					<div class="form-check form-switch ps-0 ms-auto my-auto">
						<input class="form-check-input mt-1 ms-auto" type="checkbox" id="navbarFixed" onclick="navbarFixed(this)">
					</div>
				</div>
			</div>
		</div>
	</div> -->
	<!-- JavaScript 库 -->
	<div id="toastContainer"></div>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>


	<script>
    // 攻击配置数据
    const attackConfigs = {
      attackTypes: ['AdversarialAttack', 'FET', 'BackDoorAttack', 'PoisoningAttack', 'RLMI', 'GIAforNLP', 'ModelStealingAttack'],
      recipes: {
        AdversarialAttack: [
          'A2TYoo2021', 'BAEGarg2019', 'BERTAttackLi2020', 'GeneticAlgorithmAlzantot2018',
          'FasterGeneticAlgorithmJia2019', 'DeepWordBugGao2018', 'HotFlipEbrahimi2017',
          'InputReductionFeng2018', 'Kuleshov2017', 'MorpheusTan2020', 'Seq2SickCheng2018BlackBox',
          'TextBuggerLi2018', 'TextFoolerJin2019', 'PWWSRen2019', 'IGAWang2019', 'Pruthi2019',
          'PSOZang2020', 'CheckList2020', 'CLARE2020', 'FrenchRecipe', 'SpanishRecipe', 'ChineseRecipe'
        ],
        FET: ['default'],
        BackDoorAttack: ['BadNets','AddSent','SynBkd','StyleBkd','POR','TrojanLM','SOS','LWP','EP','NeuBA','LWS','RIPPLES'],
        PoisoningAttack: ['default'],
        RLMI: ['default'],
        GIAforNLP: ['default'],
        ModelStealingAttack: ['default']
      },
      defaults: {
        AdversarialAttack: {
          use_local_model: true,
          use_local_tokenizer: true,
          use_local_dataset: false,
          attack_nums: 2
        },
        FET: {
          seed: 42,
          attack_batch: 2,
          attack_nums: 1,
          distance_func: 'l2',
          population_size: 300,
          tournsize: 5,
          crossover_rate: 0.9,
          mutation_rate: 0.1,
          max_generations: 2,
          halloffame_size: 30
        },
        BackDoorAttack: {
          sample_metrics: [],
          defender: 'None'
        },
        PoisoningAttack: {
          poisoning_rate: 0.1,
          epochs: 10
        },
        RLMI: {
          seed: 42,
          seq_length: 20,
          target_label: 0,
          max_iterations: 2000,
          min_input_length: 2,
          max_input_length: 5,
          num_generation: 1000
        },
        GIAforNLP: {
          optimizer: 'Adam',
          attack_batch: 2,
          attack_nums: 1,
          distance_func: 'l2',
          attack_lr: 0.01,
          attack_iters: 10
        },
        ModelStealingAttack: {
          attack_nums: 2,
          query_num: 320,
          prompt: "This is a movie review.",
          pool_subsize: 1766,
          method: "MeaeQ",
          al_sample_method: "uncertainty",
          al_sample_batch_num: 20
        }
      },
      descriptions: {
        AdversarialAttack: "通过微小的、难以察觉的扰动来欺骗模型，使其做出错误的预测",
        FET: "梯度反演",
        BackDoorAttack: "在训练数据中植入后门，使模型在特定触发条件下表现出异常行为",
        PoisoningAttack: "通过污染训练数据来降低模型性能或植入后门",
        RLMI: "模型反演",
        GIAforNLP: "梯度反演-NLP",
        ModelStealingAttack: "通过查询目标模型来窃取其结构和参数"
      },
      typeNames: {
        AdversarialAttack: "对抗攻击",
        FET: "梯度反演",
        BackDoorAttack: "后门攻击",
        PoisoningAttack: "数据投毒",
        RLMI: "模型反演",
        GIAforNLP: "通用NLP攻击",
        ModelStealingAttack: "模型窃取"
      }
    };
    
    // 存储配置数据
    let configList = [];
    let send_configs = [];
    let currentConfigId = null;
    let executedAttacks = 0;
    let currentFilter = 'all';
    let currentTypeFilter = 'all';
    
    // DOM 加载完成后执行
    document.addEventListener('DOMContentLoaded', function() {
      // 初始化攻击策略下拉菜单
      updateAttackStrategies();
      
      // 初始化类型筛选菜单
      initTypeFilter();
      
      // 加载示例配置
      loadSampleConfigs();
      renderConfigTable();
      updateStats();
      
      // 添加新配置按钮点击事件
      document.getElementById('addNewConfigBtn').addEventListener('click', showAddConfigModal);
      document.getElementById('addFirstConfigBtn').addEventListener('click', showAddConfigModal);
      
      // 攻击类型改变事件
      document.getElementById('attackType').addEventListener('change', function() {
        updateAttackStrategies();
        updateAdvancedSettings(this.value);
        
        // 更新描述
        const type = this.value;
        document.getElementById('description').value = attackConfigs.descriptions[type] || '';
      });
      
      // 保存配置按钮点击事件
      document.getElementById('saveConfigBtn').addEventListener('click', saveConfig);
      
      // 发送配置按钮点击事件
      document.getElementById('sendConfigBtn').addEventListener('click', sendConfigs);
      
      // 执行攻击按钮点击事件
      document.getElementById('executeAttackBtn').addEventListener('click', executeAttack);
      
      // 搜索配置事件
      document.getElementById('searchInput').addEventListener('input', searchConfigs);
      
      // 筛选配置事件
      document.querySelectorAll('.filter-option').forEach(item => {
        item.addEventListener('click', function(e) {
          e.preventDefault();
          const filter = this.getAttribute('data-filter');
          currentFilter = filter;
          renderConfigTable();
          updateFilterTags();
        });
      });
      
      // 类型筛选事件
      document.querySelectorAll('.type-filter-option').forEach(item => {
        item.addEventListener('click', function(e) {
          e.preventDefault();
          const type = this.getAttribute('data-type');
          currentTypeFilter = type;
          renderConfigTable();
          updateFilterTags();
        });
      });
    });
    
    // 初始化类型筛选菜单
    function initTypeFilter() {
      const typeFilterMenu = document.getElementById('typeFilterMenu');
      
      // 添加全部类型选项
      const allOption = document.createElement('li');
      allOption.innerHTML = '<a class="dropdown-item type-filter-option active" href="#" data-type="all">全部类型</a>';
      typeFilterMenu.appendChild(allOption);
      
      // 添加具体攻击类型选项
      Object.entries(attackConfigs.typeNames).forEach(([key, value]) => {
        const option = document.createElement('li');
        option.innerHTML = `<a class="dropdown-item type-filter-option" href="#" data-type="${key}">${value}</a>`;
        typeFilterMenu.appendChild(option);
      });
    }
    
    // 显示添加配置模态框
    function showAddConfigModal() {
      currentConfigId = null;
      document.getElementById('modalTitle').textContent = '添加新攻击配置';
      document.getElementById('configName').value = '';
      document.getElementById('description').value = '';
      document.getElementById('attackType').value = 'AdversarialAttack';
      
      updateAttackStrategies();
      updateAdvancedSettings('AdversarialAttack');
      
      // 显示模态框
      const modal = new bootstrap.Modal(document.getElementById('configModal'));
      modal.show();
    }
    
    // 显示Toast通知
    function showToast(message, type) {
      const toastContainer = document.getElementById('toastContainer');
      const toast = document.createElement('div');
      toast.className = `toast toast-${type}`;
      toast.innerHTML = `
        <i class="material-icons">${type === 'success' ? 'check_circle' : 'error'}</i>
        <div>${message}</div>
      `;
      
      toastContainer.appendChild(toast);
      toast.classList.add('show');
      
      setTimeout(() => {
        toast.classList.remove('show');
        setTimeout(() => {
          toastContainer.removeChild(toast);
        }, 300);
      }, 3000);
    }
    
    // 更新统计数据
    function updateStats() {
      const totalConfigs = configList.length;
      const activeConfigs = configList.filter(config => config.status === 'active').length;
      
      // 计算不同攻击类型数量
      const uniqueTypes = new Set(configList.map(config => config.type));
      
      document.getElementById('totalConfigs').textContent = totalConfigs;
      document.getElementById('activeConfigs').textContent = activeConfigs;
      document.getElementById('configCounter').textContent = totalConfigs;
      document.getElementById('executedAttacks').textContent = executedAttacks;
      document.getElementById('attackTypes').textContent = uniqueTypes.size;
    }
    
    // 加载示例配置
    function loadSampleConfigs() {
      configList = [
        {
          id: 1,
          name: "文本对抗攻击配置",
          type: "AdversarialAttack",
          strategy: "TextFoolerJin2019",
          description: "针对NLP模型的文本对抗攻击，通过替换同义词和干扰字符欺骗模型",
          status: "active",
          sent: true,
          executed: true,
          createdAt: "2025-05-15 10:30",
          params: {
            use_local_model: true,
            attack_nums: 3
          }
        },
        {
          id: 2,
          name: "后门攻击配置",
          type: "BackDoorAttack",
          strategy: "TrojanLM",
          description: "植入后门的攻击配置，在特定触发词出现时改变模型行为",
          status: "inactive",
          sent: false,
          executed: false,
          createdAt: "2025-05-18 14:20",
          params: {
            sample_metrics: ["accuracy"],
            defender: "None"
          }
        },
        {
          id: 3,
          name: "数据投毒配置",
          type: "PoisoningAttack",
          strategy: "default",
          description: "针对训练数据的投毒攻击，污染训练集以降低模型性能",
          status: "active",
          sent: true,
          executed: false,
          createdAt: "2023-05-20 09:45",
          params: {
            poisoning_rate: 0.15,
            epochs: 15
          }
        },
        {
          id: 4,
          name: "模型窃取攻击",
          type: "ModelStealingAttack",
          strategy: "default",
          description: "通过查询目标模型来窃取其结构和参数",
          status: "active",
          sent: true,
          executed: true,
          createdAt: "2025-06-10 14:30",
          params: {
            attack_nums: 3,
            query_num: 500,
            method: "MeaeQ"
          }
        },
        {
          id: 5,
          name: "模型反演配置",
          type: "RLMI",
          strategy: "default",
          description: "使用强化学习优化攻击策略",
          status: "active",
          sent: false,
          executed: false,
          createdAt: "2023-06-12 11:20",
          params: {
            seed: 123,
            max_iterations: 2500
          }
        }
      ];
    }
    
    // 渲染配置表格
    function renderConfigTable() {
      const tbody = document.getElementById('configTableBody');
      const noConfigsMessage = document.getElementById('noConfigsMessage');
      
      // 应用筛选
      let filteredConfigs = configList;
      
      // 应用状态筛选
      if (currentFilter !== 'all') {
        if (currentFilter === 'active') {
          filteredConfigs = filteredConfigs.filter(config => config.status === 'active');
        } else if (currentFilter === 'inactive') {
          filteredConfigs = filteredConfigs.filter(config => config.status === 'inactive');
        } else if (currentFilter === 'sent') {
          filteredConfigs = filteredConfigs.filter(config => config.sent);
        } else if (currentFilter === 'not_sent') {
          filteredConfigs = filteredConfigs.filter(config => !config.sent);
        } else if (currentFilter === 'executed') {
          filteredConfigs = filteredConfigs.filter(config => config.executed);
        } else if (currentFilter === 'not_executed') {
          filteredConfigs = filteredConfigs.filter(config => !config.executed);
        }
      }
      
      // 应用类型筛选
      if (currentTypeFilter !== 'all') {
        filteredConfigs = filteredConfigs.filter(config => config.type === currentTypeFilter);
      }
      
      if (filteredConfigs.length === 0) {
        noConfigsMessage.classList.remove('d-none');
        tbody.innerHTML = '';
        updateStats();
        return;
      }
      
      noConfigsMessage.classList.add('d-none');
      tbody.innerHTML = '';
      
      filteredConfigs.forEach(config => {
        // 获取类型显示名称
        const typeName = attackConfigs.typeNames[config.type] || config.type;
        
        // 生成状态徽章
        const statusBadges = [];
        
        // 启用状态
        if (config.status === 'active') {
          statusBadges.push('<span class="status-badge status-active status-indicator"><span class="status-dot"></span>活跃</span>');
        } else {
          statusBadges.push('<span class="status-badge status-inactive status-indicator"><span class="status-dot"></span>已禁用</span>');
        }
        
        // 发送状态
        if (config.sent) {
          statusBadges.push('<span class="status-badge status-sent status-indicator"><span class="status-dot"></span>已发送</span>');
        } else {
          statusBadges.push('<span class="status-badge status-indicator"><span class="status-dot"></span>未发送</span>');
        }
        
        // 执行状态
        if (config.executed) {
          statusBadges.push('<span class="status-badge status-executed status-indicator"><span class="status-dot"></span>已执行</span>');
        } else {
          statusBadges.push('<span class="status-badge status-indicator"><span class="status-dot"></span>未执行</span>');
        }
        
        // 生成类型徽章
        let badgeClass = 'badge-primary';
        if (config.type === 'BackDoorAttack') badgeClass = 'badge-danger';
        if (config.type === 'ModelStealingAttack') badgeClass = 'badge-info';
        if (config.type === 'PoisoningAttack') badgeClass = 'badge-warning';
        if (config.type === 'RLMI') badgeClass = 'badge-purple';
        
        const row = document.createElement('tr');
        row.innerHTML = `
          <td>${config.name}</td>
          <td><span class="badge ${badgeClass}">${typeName}</span></td>
          <td><span class="badge badge-success">${config.strategy}</span></td>
          <td>
            <div class="d-flex flex-wrap gap-2">
              ${statusBadges.join('')}
            </div>
          </td>
          <td>${config.createdAt}</td>
          <td>
            <div class="action-buttons">
              <button class="btn btn-sm btn-outline-primary btn-icon edit-config-btn" data-id="${config.id}">
                <i class="material-icons">edit</i>
              </button>
              <button class="btn btn-sm btn-outline-danger btn-icon delete-config-btn" data-id="${config.id}">
                <i class="material-icons">delete</i>
              </button>
              <button class="btn btn-sm btn-outline-secondary btn-icon toggle-status-btn" data-id="${config.id}">
                <i class="material-icons">${config.status === 'active' ? 'toggle_off' : 'toggle_on'}</i>
              </button>
            </div>
          </td>
        `;
        tbody.appendChild(row);
      });
      
      // 绑定事件
      tbody.querySelectorAll('.edit-config-btn').forEach(btn => {
        btn.addEventListener('click', function() {
          const configId = parseInt(this.getAttribute('data-id'));
          editConfig(configId);
        });
      });
      
      tbody.querySelectorAll('.delete-config-btn').forEach(btn => {
        btn.addEventListener('click', function() {
          const configId = parseInt(this.getAttribute('data-id'));
          deleteConfig(configId);
        });
      });
      
      tbody.querySelectorAll('.toggle-status-btn').forEach(btn => {
        btn.addEventListener('click', function() {
          const configId = parseInt(this.getAttribute('data-id'));
          toggleConfigStatus(configId);
        });
      });
      
      updateStats();
    }
    
    // 更新筛选标签
    function updateFilterTags() {
      const filterTags = document.getElementById('filterTags');
      filterTags.innerHTML = '';
      
      // 添加状态筛选标签
      if (currentFilter !== 'all') {
        const filterText = getFilterText(currentFilter);
        const tag = document.createElement('div');
        tag.className = 'filter-tag';
        tag.innerHTML = `
          <span>状态: ${filterText}</span>
          <span class="close" data-filter="all">&times;</span>
        `;
        filterTags.appendChild(tag);
      }
      
      // 添加类型筛选标签
      if (currentTypeFilter !== 'all') {
        const typeName = attackConfigs.typeNames[currentTypeFilter] || currentTypeFilter;
        const tag = document.createElement('div');
        tag.className = 'filter-tag';
        tag.innerHTML = `
          <span>类型: ${typeName}</span>
          <span class="close" data-type="all">&times;</span>
        `;
        filterTags.appendChild(tag);
      }
      
      // 添加清除所有筛选按钮
      if (currentFilter !== 'all' || currentTypeFilter !== 'all') {
        const clearTag = document.createElement('div');
        clearTag.className = 'filter-tag';
        clearTag.innerHTML = `
          <span>清除所有筛选</span>
          <span class="close" data-clear="all">&times;</span>
        `;
        filterTags.appendChild(clearTag);
      }
      
      // 绑定关闭事件
      filterTags.querySelectorAll('.close').forEach(close => {
        close.addEventListener('click', function() {
          if (this.getAttribute('data-clear')) {
            currentFilter = 'all';
            currentTypeFilter = 'all';
          } else if (this.getAttribute('data-filter')) {
            currentFilter = this.getAttribute('data-filter');
          } else if (this.getAttribute('data-type')) {
            currentTypeFilter = this.getAttribute('data-type');
          }
          
          renderConfigTable();
          updateFilterTags();
        });
      });
    }
    
    // 获取筛选文本
    function getFilterText(filter) {
      const filterTexts = {
        'all': '全部状态',
        'active': '活跃配置',
        'inactive': '已禁用',
        'sent': '已发送',
        'not_sent': '未发送',
        'executed': '已执行',
        'not_executed': '未执行'
      };
      
      return filterTexts[filter] || filter;
    }
    
    // 编辑配置
    function editConfig(configId) {
      const config = configList.find(c => c.id === configId);
      if (!config) return;
      
      currentConfigId = configId;
      document.getElementById('modalTitle').textContent = '编辑攻击配置';
      document.getElementById('configName').value = config.name;
      document.getElementById('description').value = config.description;
      document.getElementById('attackType').value = config.type;
      
      updateAttackStrategies();
      document.getElementById('attackStrategy').value = config.strategy;
      updateAdvancedSettings(config.type);
      
      // 填充高级设置
      for (const [key, value] of Object.entries(config.params)) {
        const input = document.getElementById(key);
        if (input) {
          if (input.type === 'checkbox') {
            input.checked = value;
          } else if (input.type === 'select-multiple') {
            // 处理多选字段
            Array.from(input.options).forEach(option => {
              option.selected = value.includes(option.value);
            });
          } else {
            input.value = value;
          }
        }
      }
      
      // 显示模态框
      const modal = new bootstrap.Modal(document.getElementById('configModal'));
      modal.show();
    }
    
    // 删除配置
    function deleteConfig(configId) {
      if (confirm('确定要删除此配置吗？此操作不可撤销。')) {
        configList = configList.filter(c => c.id !== configId);
        renderConfigTable();
        showToast('配置删除成功！', 'success');
      }
    }
    
    // 切换配置状态
    function toggleConfigStatus(configId) {
      const config = configList.find(c => c.id === configId);
      if (config) {
        config.status = config.status === 'active' ? 'inactive' : 'active';
        renderConfigTable();
        showToast(`配置状态已${config.status === 'active' ? '激活' : '禁用'}`, 'success');
      }
    }
    
    // 更新攻击策略下拉菜单
    function updateAttackStrategies() {
      const attackType = document.getElementById('attackType').value;
      const strategies = attackConfigs.recipes[attackType] || ['default'];
      const strategySelect = document.getElementById('attackStrategy');
      
      strategySelect.innerHTML = '';
      strategies.forEach(strategy => {
        const option = document.createElement('option');
        option.value = strategy;
        option.textContent = strategy;
        strategySelect.appendChild(option);
      });
      
      // 更新描述
      document.getElementById('description').value = attackConfigs.descriptions[attackType] || '';
    }
    
    // 更新高级设置区域
    function updateAdvancedSettings(attackType) {
      const settings = attackConfigs.defaults[attackType] || {};
      const container = document.getElementById('advancedSettingsContent');
      
      container.innerHTML = '';
      
      for (const [key, value] of Object.entries(settings)) {
        const label = key.replace(/_/g, ' ')
                        .replace(/\b\w/g, l => l.toUpperCase());
        
        const col = document.createElement('div');
        col.className = 'param-item';
        
        if (attackType === 'BackDoorAttack') {
          // 后门攻击特殊字段处理
          if (key === 'sample_metrics') {
            col.innerHTML = `
              <label class="form-label">样本指标</label>
              <div>
                <div class="form-check">
                  <input class="form-check-input" type="checkbox" id="ppl" value="ppl">
                  <label class="form-check-label" for="ppl">PPL</label>
                </div>
                <div class="form-check">
                  <input class="form-check-input" type="checkbox" id="use" value="use">
                  <label class="form-check-label" for="use">USE</label>
                </div>
                <div class="form-check">
                  <input class="form-check-input" type="checkbox" id="grammar" value="grammar">
                  <label class="form-check-label" for="grammar">语法</label>
                </div>
              </div>
            `;
          } else if (key === 'defender') {
            col.innerHTML = `
              <label class="form-label">防御机制</label>
              <select class="form-control" id="defender">
                <option value="None">无</option>
                <option value="BKI">BKI</option>
                <option value="ONION">ONION</option>
                <option value="STRIP">STRIP</option>
                <option value="RAP">RAP</option>
                <option value="CUBE">CUBE</option>
              </select>
            `;
          } else {
            col.innerHTML = `
              <label class="form-label">${label}</label>
              <input type="text" class="form-control" id="${key}" value="${value}">
            `;
          }
        } else if (attackType === 'ModelStealingAttack') {
          // 模型窃取攻击特殊字段处理
          if (key === 'method') {
            col.innerHTML = `
              <label class="form-label">方法</label>
              <select class="form-control" id="method">
                <option value="RS">随机抽样 (RS)</option>
                <option value="TRF">基于转换 (TRF)</option>
                <option value="DRC">数据重构 (DRC)</option>
                <option value="MeaeQ">MeaeQ</option>
                <option value="AL-RS">主动学习-RS</option>
                <option value="AL-US">主动学习-US</option>
              </select>
            `;
          } else if (key === 'al_sample_method') {
            col.innerHTML = `
              <label class="form-label">主动学习方法</label>
              <select class="form-control" id="al_sample_method">
                <option value="random">随机</option>
                <option value="uncertainty">不确定性</option>
                <option value="dr-greedy-select-min-max">最小-最大贪婪选择</option>
                <option value="dr-greedy-select-max-sum">最大和贪婪选择</option>
              </select>
            `;
          } else {
            col.innerHTML = `
              <label class="form-label">${label}</label>
              <input type="text" class="form-control" id="${key}" value="${value}">
            `;
          }
        } else {
          // 通用处理
          if (typeof value === 'boolean') {
            col.innerHTML = `
              <div class="form-check form-switch">
                <input class="form-check-input" type="checkbox" id="${key}" ${value ? 'checked' : ''}>
                <label class="form-check-label" for="${key}">${label}</label>
              </div>
            `;
          } else if (Array.isArray(value)) {
            col.innerHTML = `
              <label class="form-label">${label}</label>
              <input type="text" class="form-control" id="${key}" value="${value.join(', ')}">
            `;
          } else if (typeof value === 'number') {
            col.innerHTML = `
              <label class="form-label">${label}</label>
              <input type="number" class="form-control" id="${key}" value="${value}">
            `;
          } else {
            col.innerHTML = `
              <label class="form-label">${label}</label>
              <input type="text" class="form-control" id="${key}" value="${value}">
            `;
          }
        }
        
        container.appendChild(col);
      }
    }
    
    // 保存配置
    function saveConfig() {
      const configName = document.getElementById('configName').value;
      if (!configName) {
        showToast('请填写配置名称', 'error');
        return;
      }
      
      const attackType = document.getElementById('attackType').value;
      const attackStrategy = document.getElementById('attackStrategy').value;
      const description = document.getElementById('description').value;
      
      // 收集高级设置
      const params = {};
      const settings = attackConfigs.defaults[attackType] || {};
      
      for (const key of Object.keys(settings)) {
        const input = document.getElementById(key);
        
        if (input) {
          if (attackType === 'BackDoorAttack' && key === 'sample_metrics') {
            // 处理后门攻击的样本指标多选框
            params[key] = [];
            if (document.getElementById('ppl').checked) params[key].push('ppl');
            if (document.getElementById('use').checked) params[key].push('use');
            if (document.getElementById('grammar').checked) params[key].push('grammar');
          } else if (input.type === 'checkbox') {
            params[key] = input.checked;
          } else if (input.type === 'number') {
            params[key] = parseFloat(input.value);
          } else {
            params[key] = input.value;
          }
        }
      }
      
      const newConfig = {
        id: currentConfigId || Date.now(),
        name: configName,
        type: attackType,
        strategy: attackStrategy,
        description: description,
        status: 'active',
        sent: false,
        executed: false,
        createdAt: new Date().toLocaleString('zh-CN', {
          year: 'numeric',
          month: '2-digit',
          day: '2-digit',
          hour: '2-digit',
          minute: '2-digit'
        }),
        params: params
      };
      
      if (currentConfigId) {
        // 更新现有配置
        const index = configList.findIndex(c => c.id === currentConfigId);
        if (index !== -1) {
          configList[index] = newConfig;
        }
      } else {
        // 添加新配置
        configList.push(newConfig);
      }
      
      // 更新表格
      renderConfigTable();
      
      // 关闭模态框
      const modal = bootstrap.Modal.getInstance(document.getElementById('configModal'));
      modal.hide();
      
      // 显示成功消息
      showToast(`配置"${configName}"保存成功！`, 'success');
    }
    
    // 发送配置
    async function sendConfigs() {
      // 过滤出活跃状态的配置
      configList.forEach(config => {
        if(config.status === 'inactive') config.sent = false; // 重置发送状态
      });
      const activeConfigs = configList.filter(config => config.status === 'active');
      if (activeConfigs.length === 0) {
        showToast('没有可发送的配置', 'error');
        return;
      }
      
      try {
        activeConfigs.forEach(config => {
          config.sent = true;
        });
        const module = await import('../assets/js/utils/authStore.js');
				const axios =await import('../assets/js/utils/axiosConfig.js');
				const authStore = module.default;
				const response = await axios.default.post('/api/attack_list', {
					method: 'POST',
					headers: {
						'Content-Type': 'application/json',
						'Authorization': `Bearer ${authStore.token}`
					},
					username: authStore.username,
					attack_list: activeConfigs
				});
        console.log('发送配置:', activeConfigs);
        if (response.status ===200) {
					showToast('配置已发送到服务器', 'success');
          renderConfigTable();
				} else {
					showToast('发送配置失败', 'error');
				}
      } catch (err) {
        console.error('发送失败:', err);
      }
    }
    
    // 执行攻击
    async function executeAttack() {
      const activeConfigs = configList.filter(config => config.status === 'active');
      if (activeConfigs.length === 0) {
        showToast('没有可执行的活跃配置', 'error');
        return;
      }
      
      try {
        activeConfigs.forEach(config => {
          config.executed = true;
        });
        const module = await import('../assets/js/utils/authStore.js');
				const axios =await import('../assets/js/utils/axiosConfig.js');
				const authStore = module.default;
				const response = await axios.default.post('/api/execute_attack', {
					method: 'POST',
					headers: {
						'Content-Type': 'application/json',
						'Authorization': `Bearer ${authStore.token}`
					},
					username: authStore.username,
				});
        executedAttacks++;
        renderConfigTable();
        showToast('攻击执行成功！', 'success');
      } catch (err) {
        console.error('执行失败:', err);
      }
    }
    
    // 搜索配置
    function searchConfigs() {
      const searchTerm = document.getElementById('searchInput').value.toLowerCase();
      
      if (!searchTerm) {
        renderConfigTable();
        return;
      }
      
      const filteredConfigs = configList.filter(config => 
        config.name.toLowerCase().includes(searchTerm) || 
        config.type.toLowerCase().includes(searchTerm) || 
        config.strategy.toLowerCase().includes(searchTerm) || 
        config.description.toLowerCase().includes(searchTerm)
      );
      
      renderFilteredConfigs(filteredConfigs);
    }
    
    // 渲染筛选后的配置
    function renderFilteredConfigs(filteredConfigs) {
      const tbody = document.getElementById('configTableBody');
      const noConfigsMessage = document.getElementById('noConfigsMessage');
      
      if (filteredConfigs.length === 0) {
        noConfigsMessage.classList.remove('d-none');
        tbody.innerHTML = '';
        return;
      }
      
      noConfigsMessage.classList.add('d-none');
      tbody.innerHTML = '';
      
      filteredConfigs.forEach(config => {
        // 获取类型显示名称
        const typeName = attackConfigs.typeNames[config.type] || config.type;
        
        // 生成状态徽章
        const statusBadges = [];
        
        // 启用状态
        if (config.status === 'active') {
          statusBadges.push('<span class="status-badge status-active status-indicator"><span class="status-dot"></span>活跃</span>');
        } else {
          statusBadges.push('<span class="status-badge status-inactive status-indicator"><span class="status-dot"></span>已禁用</span>');
        }
        
        // 发送状态
        if (config.sent) {
          statusBadges.push('<span class="status-badge status-sent status-indicator"><span class="status-dot"></span>已发送</span>');
        } else {
          statusBadges.push('<span class="status-badge status-indicator"><span class="status-dot"></span>未发送</span>');
        }
        
        // 执行状态
        if (config.executed) {
          statusBadges.push('<span class="status-badge status-executed status-indicator"><span class="status-dot"></span>已执行</span>');
        } else {
          statusBadges.push('<span class="status-badge status-indicator"><span class="status-dot"></span>未执行</span>');
        }
        
        // 生成类型徽章
        let badgeClass = 'badge-primary';
        if (config.type === 'BackDoorAttack') badgeClass = 'badge-danger';
        if (config.type === 'ModelStealingAttack') badgeClass = 'badge-info';
        if (config.type === 'PoisoningAttack') badgeClass = 'badge-warning';
        if (config.type === 'RLMI') badgeClass = 'badge-purple';
        
        const row = document.createElement('tr');
        row.innerHTML = `
          <td>${config.name}</td>
          <td><span class="badge ${badgeClass}">${typeName}</span></td>
          <td><span class="badge badge-success">${config.strategy}</span></td>
          <td>
            <div class="d-flex flex-wrap gap-2">
              ${statusBadges.join('')}
            </div>
          </td>
          <td>${config.createdAt}</td>
          <td>
            <div class="action-buttons">
              <button class="btn btn-sm btn-outline-primary btn-icon edit-config-btn" data-id="${config.id}">
                <i class="material-icons">edit</i>
              </button>
              <button class="btn btn-sm btn-outline-danger btn-icon delete-config-btn" data-id="${config.id}">
                <i class="material-icons">delete</i>
              </button>
              <button class="btn btn-sm btn-outline-secondary btn-icon toggle-status-btn" data-id="${config.id}">
                <i class="material-icons">${config.status === 'active' ? 'toggle_off' : 'toggle_on'}</i>
              </button>
            </div>
          </td>
        `;
        tbody.appendChild(row);
      });
      
      // 绑定事件
      tbody.querySelectorAll('.edit-config-btn').forEach(btn => {
        btn.addEventListener('click', function() {
          const configId = parseInt(this.getAttribute('data-id'));
          editConfig(configId);
        });
      });
      
      tbody.querySelectorAll('.delete-config-btn').forEach(btn => {
        btn.addEventListener('click', function() {
          const configId = parseInt(this.getAttribute('data-id'));
          deleteConfig(configId);
        });
      });
      
      tbody.querySelectorAll('.toggle-status-btn').forEach(btn => {
        btn.addEventListener('click', function() {
          const configId = parseInt(this.getAttribute('data-id'));
          toggleConfigStatus(configId);
        });
      });
    }
	</script>
	<!-- Github buttons -->
	<script async defer src="https://buttons.github.io/buttons.js"></script>
	<!-- Control Center for Material Dashboard: parallax effects, scripts for the example pages etc -->
	<script src="../assets/js/material-dashboard.min.js?v=3.2.0"></script>
</body>

</html>